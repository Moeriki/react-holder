"use strict";var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},React=require("react"),qs=require("query-string");module.exports=React.createClass({displayName:"exports",propTypes:{src:React.PropTypes.string.isRequired,width:React.PropTypes.string.number,height:React.PropTypes.string.number,className:React.PropTypes.string,placeholder:React.PropTypes.object},getDefaultProps:function(){return{className:void 0,width:void 0,height:void 0,placeholder:{theme:"vine",auto:!0}}},render:function(){var e={className:this.props.className,width:this.props.width,height:this.props.height};if(this._isPlaceholderImage()){var r=qs.stringify(this.props.placeholder);return React.createElement("img",_extends({},e,{ref:"placeholder","data-src":this.props.src+"?"+r}))}return React.createElement("img",_extends({},e,{src:this.props.src}))},componentDidMount:function(){this._initPlaceholderImage()},componentDidUpdate:function(e){e.src!==this.props.src&&this._initPlaceholderImage()},_initPlaceholderImage:function(){if(this._isPlaceholderImage()){var e=React.findDOMNode(this.refs.placeholder),r=require("holderjs");r.run({domain:"holder.js",images:e,object:null,bgnodes:null,stylenodes:null})}},_isPlaceholderImage:function(){return 0===this.props.src.indexOf("holder.js")}});